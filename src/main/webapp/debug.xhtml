<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
                template="/resources/templates/templateShopping.xhtml">

    <ui:param name="pageTitle" value="Debug"/>

    <ui:define name="main">

        <h2>Request information</h2>

        <h:panelGrid columns="2">
            <h:outputLabel value="Protocol"/>
            <h:outputText class="form-control" pt:disabled="disabled" value="#{request.getProtocol()}"/>
            <h:outputLabel value="ContentType"/>
            <h:outputText class="form-control" pt:disabled="disabled" value="#{request.getContentType()}"/>
            <h:outputLabel value="RemoteAddr"/>
            <h:outputText class="form-control" pt:disabled="disabled" value="#{request.getRemoteAddr()}"/>
            <h:outputLabel value="RemoteHost"/>
            <h:outputText class="form-control" pt:disabled="disabled" value="#{request.getRemoteHost()}"/>
            <h:outputLabel value="Scheme"/>
            <h:outputText class="form-control" pt:disabled="disabled" value="#{request.getScheme()}"/>
            <h:outputLabel value="ServerName"/>
            <h:outputText class="form-control" pt:disabled="disabled" value="#{request.getServerName()}"/>
            <h:outputLabel value="ServerPort"/>
            <h:outputText class="form-control" pt:disabled="disabled" value="#{request.getServerPort()}"/>
            <h:outputLabel value="AuthType"/>
            <h:outputText class="form-control" pt:disabled="disabled" value="#{request.getAuthType()}"/>
            <h:outputLabel value="ContextPath"/>
            <h:outputText class="form-control" pt:disabled="disabled" value="#{request.getContextPath()}"/>
            <h:outputLabel value="Method"/>
            <h:outputText class="form-control" pt:disabled="disabled" value="#{request.getMethod()}"/>
            <h:outputLabel value="PathInfo"/>
            <h:outputText class="form-control" pt:disabled="disabled" value="#{request.getPathInfo()}"/>
            <h:outputLabel value="PathTranslated"/>
            <h:outputText class="form-control" pt:disabled="disabled" value="#{request.getPathTranslated()}"/>
            <h:outputLabel value="QueryString"/>
            <h:outputText class="form-control" pt:disabled="disabled" value="#{request.getQueryString()}"/>
            <h:outputLabel value="RemoteUser"/>
            <h:outputText class="form-control" pt:disabled="disabled" value="#{request.getRemoteUser()}"/>
            <h:outputLabel value="RequestedSessionId"/>
            <h:outputText class="form-control" pt:disabled="disabled" value="#{request.getRequestedSessionId()}"/>
            <h:outputLabel value="RequestURI"/>
            <h:outputText class="form-control" pt:disabled="disabled" value="#{request.getRequestURI()}" size="60"/>
            <h:outputLabel value="RequestURL"/>
            <h:outputText class="form-control" pt:disabled="disabled" value="#{request.getRequestURL()}"/>
            <h:outputLabel value="ServletPath"/>
            <h:outputText class="form-control" pt:disabled="disabled" value="#{request.getServletPath()}"/>
            <h:outputLabel value="ServerName"/>
            <h:outputText class="form-control" pt:disabled="disabled" value="#{request.getServerName()}"/>
            <h:outputLabel value="ServerPort"/>
            <h:outputText class="form-control" pt:disabled="disabled" value="#{request.getServerPort()}"/>
            <h:outputLabel value="isRequestedSessionIdFromCookie"/>
            <h:outputText class="form-control" pt:disabled="disabled"
                          value="#{request.isRequestedSessionIdFromCookie()}"/>
            <h:outputLabel value="isRequestedSessionIdFromURL"/>
            <h:outputText class="form-control" pt:disabled="disabled" value="#{request.isRequestedSessionIdFromURL()}"/>
            <h:outputLabel value="isRequestedSessionIdValid"/>
            <h:outputText class="form-control" pt:disabled="disabled" value="#{request.isRequestedSessionIdValid()}"/>
            <h:outputLabel value="isSecure"/>
            <h:outputText class="form-control" pt:disabled="disabled" value="#{request.isSecure()}"/>
        </h:panelGrid>
        <br/>

        <h2>Request headers</h2>
        <h:panelGrid columns="2">
            <c:forEach items="#{headerValues}" var="entry">
                <h:outputLabel value="#{entry.key}"/>
                <c:forEach items="#{entry.value}" var="headerValue">
                    <h:inputText class="form-control" pt:disabled="disabled" value="#{headerValue}" size="82"/>
                </c:forEach>
            </c:forEach>
        </h:panelGrid>

        <h2>Request cookies</h2>
        <h:panelGrid columns="2">
            <c:forEach items="#{cookie}" var="entry">
                <h:outputLabel value="#{entry.key}"/>
                <h:outputText class="form-control" pt:disabled="disabled" value="#{entry.value.value}" size="82"/>
            </c:forEach>
        </h:panelGrid>

        <h2>Request attributes</h2>
        <h:panelGrid columns="2">
            <c:forEach items="#{requestScope}" var="entry">
                <h:outputLabel value="#{entry.key}" />
                <h:inputText class="form-control" pt:disabled="disabled" value="#{entry.value}" />
            </c:forEach>
        </h:panelGrid>

        <h2>Session information</h2>
        <h:panelGrid columns="2">
            <h:outputLabel value="MaxInactiveInterval (min)"/>
            <h:outputText class="form-control" pt:disabled="disabled" value="#{session.getMaxInactiveInterval() / 60}"/>
            <h:outputLabel value="Id"/>
            <h:outputText class="form-control" pt:disabled="disabled" value="#{session.getId()}" size="72"/>
            <h:outputLabel value="LastAccessedTime"/>
            <h:outputText class="form-control" pt:disabled="disabled" value="#{session.getLastAccessedTime()}"/>
        </h:panelGrid>

        <h2>Session attributes</h2>
        <h:panelGrid columns="2">
            <c:forEach items="#{sessionScope}" var="entry">
                <h:outputLabel value="#{entry.key}" />
                <h:inputText class="form-control" pt:disabled="disabled" value="#{entry.value}" />
            </c:forEach>
        </h:panelGrid>

        <h2>Application information</h2>
        <h:panelGrid columns="2">
            <h:outputLabel value="ServletContextPath"/>
            <h:outputText class="form-control" pt:disabled="disabled" value="#{application.getContextPath()}"
                          size="76"/>
            <h:outputLabel value="ServletContextName"/>
            <h:outputText class="form-control" pt:disabled="disabled" value="#{application.getServletContextName()}"/>
            <h:outputLabel value="MajorVersion"/>
            <h:outputText class="form-control" pt:disabled="disabled" value="#{application.getMajorVersion()}"/>
            <h:outputLabel value="MinorVersion"/>
            <h:outputText class="form-control" pt:disabled="disabled" value="#{application.getMinorVersion()}"/>
            <h:outputLabel value="ServerInfo"/>
            <h:outputText class="form-control" pt:disabled="disabled" value="#{application.getServerInfo()}"/>
            <h:outputLabel value="ResourceUrlForSlash"/>
            <h:inputText class="form-control" pt:disabled="disabled" value="#{application.getResource('/')}" size="80"/>
        </h:panelGrid>

        <h2>Application attributes</h2>
        <h:panelGrid columns="2">
            <c:forEach items="#{applicationScope}" var="entry">
                <h:outputLabel value="#{entry.key}" />
                <h:inputText class="form-control" pt:disabled="disabled" value="#{entry.value}" />
            </c:forEach>
        </h:panelGrid>

        <h2>System information</h2>
        <h:panelGrid columns="2">
            <h:outputLabel value="Working directory"/>
            <h:inputText class="form-control" pt:disabled="disabled" value="#{debugBean.workingDirectory}"
                          size="64"/>
            <h:outputLabel value="InetAddress.getLocalHost()"/>
            <h:inputText class="form-control" pt:disabled="disabled" value="#{debugBean.workingDirectory}"/>
            <h:outputLabel value="InetAddress.getAllByName(null)"/>
            <h:inputText class="form-control" pt:disabled="disabled" value="#{debugBean.workingDirectory}"/>
        </h:panelGrid>

        <h2>Memory</h2>
        <h:panelGrid columns="2">
            <h:outputLabel value="Total Memory"/>
            <h:outputText class="form-control" pt:disabled="disabled" value="#{debugBean.totalMemory}" size="64"/>
            <h:outputLabel value="Free Memory"/>
            <h:outputText class="form-control" pt:disabled="disabled" value="#{debugBean.freeMemory}"/>
        </h:panelGrid>

        <h2>Thread stack</h2>
        <h:panelGrid columns="1">
            <c:forEach items="#{debugBean.threadStack}" var="entry">
                <h:outputLabel value="#{entry}" />
            </c:forEach>
        </h:panelGrid>


    </ui:define>
</ui:composition>
